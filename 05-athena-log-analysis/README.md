# 概要
本セクションでは、Amazon Athena を使用して、S3バケットに保存されたALB (Application Load Balancer) のアクセスログを分析します。Athenaはサーバーレスのインタラクティブクエリサービスであり、標準SQLを使用してS3上のデータを直接、簡単に分析できます。

この分析を通じて、Private-isuアプリケーションのどのパスが多くアクセスされているか、レスポンスタイムが遅いリクエストは何か、エラーが発生している箇所はどこか、といった情報を把握し、パフォーマンス改善のヒントを得ることを目的とします。

## 前提条件:
前のセクション「④ALB追加」が完了しており、ALBのアクセスログがS3バケットに出力されていること。  
アクセスログがS3バケットに蓄積されるまで、ある程度の時間が経過していること（数十分～数時間程度、アクセスがないとログは生成されません）。

分析手順
1. Athena の初期設定 (クエリ結果の場所指定)
初めてAthenaを利用する場合、またはワークグループごとにクエリ結果の保存場所を設定する必要があります。

AWS マネジメントコンソールで「Athena」を検索し、サービスページを開きます。
Athenaのクエリエディタ画面上部、またはナビゲーションペインの「ワークグループ」から、使用するワークグループ（例: primary）を選択し、「編集」または「ワークグループを作成」をクリックします。
「クエリ結果の場所と暗号化」セクションで、「クエリ結果の場所」に、Athenaのクエリ結果を保存するためのS3バケットのパスを指定します（例: s3://your-athena-query-results-bucket/）。このバケットは事前に作成しておく必要があります。
注意: ALBアクセスログが保存されているバケットとは別のバケット、または別のプレフィックスを指定することを推奨します。
設定を保存します。
